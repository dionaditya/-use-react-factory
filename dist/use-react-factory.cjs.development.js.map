{"version":3,"file":"use-react-factory.cjs.development.js","sources":["../src/index.tsx"],"sourcesContent":["import { BehaviorSubject } from 'rxjs'\nimport { StreamBuilder as StreamProvider, Snapshot, ConnectionState as ConnectionStateProvider } from 'react-stream-builder'\nimport useObservable from \"use-observable\"\n\nexport type StreamSnapshot<T> = Snapshot<T>;\n\nexport const createStore: <T>(initValue: T) => {stream: BehaviorSubject<T>; initValue: T}  = <T extends unknown>(initValue: T) => {\n    const stream = new BehaviorSubject(initValue)\n    return {\n        stream,\n        initValue\n    }\n};\n\nexport const StreamBuilder = StreamProvider\nexport const ConnectionState = ConnectionStateProvider\n\ntype Sink = <T extends unknown>(stream: BehaviorSubject<T>) => {\n    add: (value: T) => void;\n}\n\nexport const sink: Sink = <T extends unknown>(stream: BehaviorSubject<T>) => {\n    return {\n        add: (value: T): void => {\n            stream.next(value)\n        } \n    }\n}\n\ninterface ReactFactory<T> {\n    state: T;\n}\n\nconst useReactFactory: <T>(stream: BehaviorSubject<T>, initValue: T) => ReactFactory<T> = \n    <T extends unknown>(stream: BehaviorSubject<T>, initValue: T) => {\n    const state = useObservable(stream, initValue)\n\n    return {\n        state,\n    }\n}\n\nexport default useReactFactory\n\n"],"names":["createStore","initValue","stream","BehaviorSubject","StreamBuilder","StreamProvider","ConnectionState","ConnectionStateProvider","sink","add","value","next","useReactFactory","state","useObservable"],"mappings":";;;;;;;;;;IAMaA,WAAW,GAAqE,SAAhFA,WAAgF,CAAoBC,SAApB;AACzF,MAAMC,MAAM,GAAG,IAAIC,oBAAJ,CAAoBF,SAApB,CAAf;AACA,SAAO;AACHC,IAAAA,MAAM,EAANA,MADG;AAEHD,IAAAA,SAAS,EAATA;AAFG,GAAP;AAIH;IAEYG,aAAa,GAAGC;IAChBC,eAAe,GAAGC;IAMlBC,IAAI,GAAS,SAAbA,IAAa,CAAoBN,MAApB;AACtB,SAAO;AACHO,IAAAA,GAAG,EAAE,aAACC,KAAD;AACDR,MAAAA,MAAM,CAACS,IAAP,CAAYD,KAAZ;AACH;AAHE,GAAP;AAKH;;AAMD,IAAME,eAAe,GACjB,SADEA,eACF,CAAoBV,MAApB,EAAgDD,SAAhD;AACA,MAAMY,KAAK,GAAGC,aAAa,CAACZ,MAAD,EAASD,SAAT,CAA3B;AAEA,SAAO;AACHY,IAAAA,KAAK,EAALA;AADG,GAAP;AAGH,CAPD;;;;;;;;"}